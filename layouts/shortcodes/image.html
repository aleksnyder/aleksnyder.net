{{ $src := resources.Get (.Get "src") }}

<figure class="image">
  <img
    sizes='(min-width: 35em) 1200px, 100vw'
    srcset='
      {{ ($src.Resize "800x").RelPermalink }} 800w,
      {{ ($src.Resize "1200x").RelPermalink }} 1200w,
      {{ ($src.Resize "1920x").RelPermalink }} 1920w'
    src='{{ ($src.Resize "1200x").RelPermalink }}'
    loading='lazy'
    alt='{{ with .Get `alt`}}{{ . }}{{ end }}'/>
  {{ with .Get "caption" }}
    <figcaption>{{ . }}</figcaption>
  {{ end }}
</figure>